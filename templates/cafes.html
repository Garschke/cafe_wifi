{% extends 'base.html' %}

{% block title %}Cafes{% endblock %}


{% block navigation %}{% include "nav_bar.html" %}{% endblock %}

{% block content %}
<div class="container">
    <br><br><br><br>
    <h1 class="display-6">Cafes</h1>
    <br>
    {% if not cafes %}
        <p>No Cafes.</p>
    {% endif %}

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <p style="color: green">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <div class="row">
        {% for cafe in cafes %}
        <div class="col-md-12">
            <div class="row g-10 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                <div class="col p-12  d-flex flex-column position-static">
                    <br>
                    <h4 class="mb-0">{{cafe.name}}</h4>
                    <div>{{ cafe.location }}</div>
                    <br>
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <i class="fa-solid fa-chair"></i>
                                <br>
                                <span>{{ cafe.seats}}</span>
                            </div>
                            <div class="col">
                                {% if cafe.has_toilet %}
                                    <i class="fa-solid fa-toilet-paper"></i>
                                    <br>
                                    <span>Toilet</span>
                                {% else %}
                                    <span style="color: #4c4c4c">
                                        <i class="fa-solid fa-poo"></i>
                                        <br>
                                        <span class="text-decoration-line-through">Toilet</span>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="col">
                                {% if cafe.has_wifi %}
                                    <i class="fa-solid fa-wifi"></i>
                                    <br>
                                    <span>Wifi</span>
                                {% else %}
                                    <span style="color: #4c4c4c">
                                        <i class="fa-solid fa-wifi"></i>
                                        <br>
                                        <span class="text-decoration-line-through">Wifi</span>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="col">
                                {% if cafe.has_sockets %}
                                    <i class="fa-solid fa-plug"></i>
                                    <br>
                                    <span>Sockets</span>
                                {% else %}
                                    <span style="color: #4c4c4c">
                                        <i class="fa-solid fa-plug"></i>
                                        <br>
                                        <span class="text-decoration-line-through">Sockets</span>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="col">
                                {% if cafe.can_take_calls %}
                                    <i class="fa-solid fa-headset"></i>
                                    <br>
                                    <span>Calls</span>
                                {% else %}
                                    <span style="color: #4c4c4c">
                                        <i class="fa-solid fa-headset"></i>
                                        <br>
                                        <span class="text-decoration-line-through">Calls</span>
                                    </span>
                                {% endif %}
                            </div>
                            <div class="col">
                                <i class="fa-solid fa-money-bill"></i>
                                <br>
                                <span>{{ cafe.coffee_price }}</span>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col">
                            <a class="btn btn-warning" href="{{ cafe.map_url }}" role="button" target="_blank">Maps</a>
                            &nbsp;&nbsp;&nbsp;
                            <a class="btn btn-warning" href="{{ url_for('edit', id=cafe.id) }}" role="button">Edit Cafe</a>
                            &nbsp;&nbsp;&nbsp;
                            <a class="btn btn-warning" href="{{ url_for('delete', id=cafe.id) }}" role="button">Delete</a>
                        </div>
                    </div>
                    <br>
                </div>
                <div class="col-auto d-none d-lg-block">
                    <br>
                    <img class="bd-placeholder-img" width="300" height="200" src="{{ cafe.img_url }}"/>
                </div>
            </div>
        </div>
        {% endfor %}

    </div>
</div>
{% endblock %}